<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Skyline - Tasks</title>
<style>
:root {
  --primary: #08a88a;
  --light: #f4f4f4;
}
body {
  margin: 0;
  font-family: sans-serif;
  background: var(--light);
  color: #333;
}
.container {
  max-width: 500px;
  margin: 20px auto;
  padding: 15px;
}
.task {
  background: white;
  border-radius: 10px;
  padding: 20px;
  margin-bottom: 20px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}
.task h3 {
  margin-top: 0;
  color: var(--primary);
}
.task small {
  display: block;
  margin-bottom: 10px;
  color: #666;
}
.task button {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  font-weight: bold;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 15px;
}
.howto-btn {
  background: #ccc;
}
.perform-btn {
  background: var(--primary);
  color: white;
}
.modal {
  display: none;
  position: fixed;
  z-index: 999;
  left:0;top:0;right:0;bottom:0;
  background: rgba(0,0,0,0.6);
  justify-content: center;
  align-items: center;
}
.modal-content {
  background: white;
  padding: 20px;
  border-radius: 10px;
  max-width: 400px;
  width: 90%;
}
.modal-content h4 {
  margin-top:0;
  color: var(--primary);
}
.modal-content p, .modal-content label {
  margin: 10px 0;
}
.modal-content input, .modal-content textarea, .modal-content button {
  width: 100%;
  padding:10px;
  margin-top:5px;
  font-size:15px;
}
.modal-content button {
  background: var(--primary);
  color:white;
  border:none;
  border-radius:5px;
  cursor:pointer;
}
.close {
  float:right;
  font-weight:bold;
  cursor:pointer;
  font-size:20px;
  color:#888;
}
.bottom-nav {
    position: fixed;
    bottom: 0;
    left:0;
    width: 100%;
    background: white;
    display: flex;
    border-top: 1px solid #ccc;
  }
  .bottom-nav a {
    flex: 1;
    text-align: center;
    padding: 10px;
    text-decoration: none;
    color: #333;
    font-size: 12px;
  }
  .bottom-nav a.active {
    color: #08a88a;
  }
  .bottom-nav svg {
    display: block;
    margin: 0 auto 5px;
  }
  .reward {
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 15px;
      padding: 20px;
      margin: 20px auto;
      box-shadow: 0 4px 10px rgba(0,0,0,0.05);
      max-width: 400px;
    }
    .reward h3 {
      color: #333;
    }
    button {
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      font-weight: bold;
      margin: 5px;
      cursor: pointer;
    }
    .join-btn {
      background-color: #28a745;
      color: white;
    }
    .claim-btn {
      background-color: #ff6600;
      color: white;
    }
    button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
    .s-h{
      display: flex;
    justify-self: center;
    }
    a{
      color:white;
      text-decoration: none;
    }
</style>
</head>
<body>

  <div class="s-h">
    <h5 style="margin-right: 5em;
    background: #08a88a;
    color: white;
    padding: 1em;
    border-radius: 0.5em;
    cursor: pointer;
    text-decoration: none;"><a href="tasks.html">Quick Tasks</a></h5>
    <h5 style="
    background: grey;
    color: white;
    padding: 1em;
    border-radius: 0.5em;
    text-decoration: none;"><a href="tasks2.html">Simple Tasks</a></h5>
  </div>

<div class="container">
  <!-- Example Task 1 -->
  <div class="task">
    <h3>Sign </h3>
    <small>Reward: ₦300</small>
    <small>Expires in: <span id="countdown2"></span></small>
    <button class="howto-btn" onclick="showHowTo('Go to our Instagram profile and follow us. Take a screenshot showing you followed.')">HOW TO PERFORM THIS TASK</button>
    <button class="perform-btn" onclick="showPerform('Follow us on Instagram','https://instagram.com/yourpage','task2')">PERFORM TASK</button>
  </div>
</div>

  <!-- Example Task 2 -->
  <div class="task">
    <h3>Follow us on Instagram</h3>
    <small>Reward: ₦300</small>
    <small>Expires in: <span id="countdown2"></span></small>
    <button class="howto-btn" onclick="showHowTo('Go to our Instagram profile and follow us. Take a screenshot showing you followed.')">HOW TO PERFORM THIS TASK</button>
    <button class="perform-btn" onclick="showPerform('Follow us on Instagram','https://instagram.com/yourpage','task2')">PERFORM TASK</button>
  </div>
</div>

<!-- How to Modal -->
<div id="howtoModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('howtoModal')">&times;</span>
    <h4>How to Perform</h4>
    <p id="howtoText"></p>
  </div>
</div>

<!-- Perform Modal -->
<div id="performModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('performModal')">&times;</span>
    <h4 id="performTitle"></h4>
    <p><a href="#" target="_blank" id="performLink">Visit Task Link</a></p>
    <form id="proofForm" action="https://formsubmit.co/jeesammy31@gmail.com" method="POST" enctype="multipart/form-data">
      <input type="hidden" name="_subject" value="Task Submission">
      <label>Your Gmail / Phone Number:</label>
      <input type="text" name="user_contact" required placeholder="Your Gmail or Phone Number">
      <label>Your Skyline Gmail:</label>
      <input type="text" name="skyline_gmail" value="skyline@example.com" readonly>
      <label>Description:</label>
      <textarea name="description" required></textarea>
      <label>Upload Screenshot Proof:</label>
      <input type="file" name="image1" accept="image/*" required>
      <label>Upload Additional Proof:</label>
      <input type="file" name="image2" accept="image/*" required>
      <button type="submit">Submit Task</button>
    </form>
  </div>
</div>

<div class="bottom-nav">
  <a href="dashboard.html" >
    <svg width="24" height="24" fill="currentColor"><path d="M3 12l9-9 9 9v9a1 1 0 0 1-1 1h-5v-6h-6v6H4a1 1 0 0 1-1-1z"/></svg>
    Home
  </a>
  <a href="videos.html">
    <svg width="24" height="24" fill="currentColor"><path d="M10 8.64v6.72L15 12l-5-3.36z"/><path d="M21 3H3v18h18V3zM5 19V5h14v14H5z"/></svg>
    Videos
  </a>
    <a href="create.html" > 
  <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10
             10-4.48 10-10S17.52 2 12 2zm1 11h4v-2h-4V7h-2v4H7v2h4v4h2v-4z"/>
  </svg>
  Create
</a>
  <a href="tasks.html"   class="active">
    <svg width="24" height="24" fill="currentColor"><path d="M9 11H7v2h2v-2zm0-4H7v2h2V7zm4 4h8v2h-8v-2zm0-4h8v2h-8V7zm-4 8H7v2h2v-2zm4 0h8v2h-8v-2z"/></svg>
    Tasks
  </a>
  <a href="profile.html">
    <svg width="24" height="24" fill="currentColor"><path d="M12 12c2.7 0 5-2.3 5-5s-2.3-5-5-5-5 2.3-5 5 2.3 5 5 5zm0 2c-3.3 0-10 1.7-10 5v3h20v-3c0-3.3-6.7-5-10-5z"/></svg>
    Profile
  </a>
</div>

<script src="tasks.js"></script>
<script>
// Countdown timer persistent
function startCountdown(id, minutes, key) {
  const savedEndTime = localStorage.getItem(key);
  let endTime;

  if (savedEndTime) {
    endTime = parseInt(savedEndTime);
  } else {
    endTime = new Date().getTime() + minutes*60*1000;
    localStorage.setItem(key, endTime);
  }

  const el = document.getElementById(id);

  setInterval(()=>{
    const now = new Date().getTime();
    const distance = endTime - now;
    if (distance < 0) {
      el.textContent = "Expired";
      return;
    }
    const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const s = Math.floor((distance % (1000 * 60)) / 1000);
    el.textContent = `${m}m ${s}s`;
  }, 1000);
}

// Start countdowns
startCountdown('countdown1', 120, 'task1_end');
startCountdown('countdown2', 180, 'task2_end');

// Show How to
function showHowTo(text){
  document.getElementById('howtoText').textContent = text;
  document.getElementById('howtoModal').style.display='flex';
}

// Show Perform
function showPerform(title, link, key){
  document.getElementById('performTitle').textContent=title;
  document.getElementById('performLink').href=link;
  document.getElementById('performModal').style.display='flex';
}

// Close modal
function closeModal(id){
  document.getElementById(id).style.display='none';
}

</script>

</body>
</html>
